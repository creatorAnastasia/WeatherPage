(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{100:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(35),s=a.n(n),i=(a(98),a(26)),d=a.n(i),o=a(16),l=a(37),u=a(12),j=(a(100),a(31)),b=a.n(j),h=a.p+"static/media/cloudy-day.7fb7ecfc.svg",m=a.p+"static/media/thunder.19ff3c30.svg",p=a.p+"static/media/drizzle.44fb8223.svg",y=a.p+"static/media/rainy.130d6250.svg",v=a.p+"static/media/snowy.dce3f5e7.svg",x=a.p+"static/media/day.c33ef664.svg";function g(e){var t;switch(e){case"Clouds":t=h;break;case"Thunderstorm":t=m;break;case"Drizzle":t=p;break;case"Rain":t=y;break;case"Snow":t=v;break;default:t=x}return t}var O=a(66),f=a.n(O),_=a(163),k=a(165),C=a(166),w=a(160),N=a(161),W=a(157),D=a(79),M=a.n(D),S=a(167),T=a(156);function B(e){return P.apply(this,arguments)}function P(){return(P=Object(l.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(t,"&appid=").concat("a63740baaa8c5f06d8ce4273818d9d10","&units=metric&lang=ru"));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP: "+a.status);case 5:return e.abrupt("return",a.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return e.charAt(0).toUpperCase()+e.slice(1)}var F=a(2),E=function(e){var t=Object(c.useState)(""),a=Object(u.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)(""),i=Object(u.a)(s,2),j=i[0],b=i[1];function h(e){return m.apply(this,arguments)}function m(){return(m=Object(l.a)(d.a.mark((function t(a){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B(a);case 3:return c=t.sent,e.setCity(c),t.abrupt("return",!0);case 8:return t.prev=8,t.t0=t.catch(0),n("\u0413\u043e\u0440\u043e\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}var p=function(){b(""),e.toggleDrawer(!1)},y=function(){var t=Object(l.a)(d.a.mark((function t(a){var c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(""),!(13===a.keyCode)){t.next=12;break}if(c=/^[\u0430-\u044f\u0451\u0410-\u042f\u0401A-Za-z -]+$/,j.match(c)){t.next=8;break}return n("\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b"),t.abrupt("return");case 8:return t.next=10,h(a.target.value);case 10:t.sent&&(r=function(e){return e.name===j},e.listCity.some(r)||e.setListCity([{name:L(a.target.value),value:a.target.value}].concat(Object(o.a)(e.listCity))),p());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(_.a,{anchor:"top",open:e.state,onClose:p,children:[Object(F.jsx)(k.a,{sx:{width:"auto"},role:"presentation",onClick:p,onKeyDown:p}),Object(F.jsx)(W.a,{sx:{width:"auto",marginTop:"1rem"},label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430",onKeyDown:y,onChange:function(e){b(e.target.value)},value:j,error:r.length>0,helperText:r}),Object(F.jsxs)(C.a,{children:[" ",e.listCity.map((function(e){var t=e.name,a=e.value;return Object(F.jsx)(w.a,{onClick:p,button:!0,children:Object(F.jsx)(N.a,{primary:t,onClick:function(){return h(a)}})},t)}))]})]}),Object(F.jsx)("div",{className:f.a.text1,children:e.city}),Object(F.jsx)("div",{className:f.a.icon,children:Object(F.jsx)(T.a,{direction:"row",spacing:1,children:Object(F.jsx)(S.a,{onClick:function(){return e.toggleDrawer(!0)},children:Object(F.jsx)(M.a,{})})})})]})},z=function(e){var t,a,r=e.city,n=e.listCity,s=e.setCity,i=e.setListCity,d=Object(c.useState)(!1),o=Object(u.a)(d,2),l=o[0],j=o[1];var h=r?null===(t=r.list[0].weather)||void 0===t?void 0:t[0].description:"",m=r?r.city.name:"",p=r?null===(a=r.list[0].weather)||void 0===a?void 0:a[0].main:"";return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("header",{className:b.a.citySticky,children:Object(F.jsx)(E,{toggleDrawer:function(e){j(e)},setCity:s,city:m,state:l,listCity:n,setListCity:i})}),Object(F.jsxs)("div",{className:b.a.descrWrap,children:[Object(F.jsx)("div",{className:b.a.morning,children:"9.00-12.00"}),Object(F.jsxs)("div",{className:b.a.home,children:[Object(F.jsx)("div",{className:b.a.degrees,children:function(){if(!r)return"";var e=Math.round(r.list[0].main.temp);return e>0?"+"+e+"\xb0C":e.toString()+"\xb0C"}()}),Object(F.jsxs)("div",{className:b.a.img,children:[" ",Object(F.jsx)("img",{src:g(p)})," "]})]}),Object(F.jsx)("div",{className:b.a.evening,children:"15.00-18.00"})]}),Object(F.jsx)("div",{className:b.a.descripWeather,children:L(h)})]})},A=a(80),K=a(81),H=a.n(K),I=a(23),V=a.n(I),X=(a(109),a(39)),q=a.n(X),Z=function(e){return Object(F.jsxs)("div",{className:q.a.wrap,onClick:e.onClick,children:[Object(F.jsx)("div",{className:q.a.date,children:e.day}),Object(F.jsxs)("div",{className:q.a.dayWrap,children:[Object(F.jsxs)("div",{className:q.a.day,children:["  ",e.dayWeek]}),Object(F.jsxs)("div",{className:q.a.degrees,children:[e.degrees," "]}),Object(F.jsxs)("div",{className:q.a.img,children:[" ",Object(F.jsx)("img",{src:e.icon})," "]})]})]})},G=a(158),J=a(15),R=a.n(J),Q=function(e){var t=e.data;return Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{className:R.a.city,children:t.name}),Object(F.jsxs)("div",{className:R.a.wrap,children:[Object(F.jsx)("div",{className:R.a.dayWeek,children:t.dayWeek}),Object(F.jsxs)("div",{className:R.a.day,children:[" ",t.day]}),Object(F.jsxs)("div",{className:R.a.blockWrap,children:[Object(F.jsxs)("div",{className:R.a.block,children:[Object(F.jsx)("div",{className:R.a.time,children:" 12.00 "}),Object(F.jsxs)("div",{className:R.a.weather,children:[Object(F.jsx)("div",{className:R.a.degrees,children:t.degrees12}),Object(F.jsx)("div",{className:R.a.icon,children:Object(F.jsx)("img",{src:t.icon12})})]}),Object(F.jsx)("div",{className:R.a.descr,children:L(t.description12)})]}),Object(F.jsxs)("div",{className:R.a.block,children:[Object(F.jsx)("div",{className:R.a.time,children:" 15.00"}),Object(F.jsxs)("div",{className:R.a.weather,children:[Object(F.jsx)("div",{className:R.a.degrees,children:t.degrees15}),Object(F.jsx)("div",{className:R.a.icon,children:Object(F.jsx)("img",{src:t.icon15})})]}),Object(F.jsx)("div",{className:R.a.descr,children:L(t.description15)})]}),Object(F.jsxs)("div",{className:R.a.block,children:[Object(F.jsx)("div",{className:R.a.time,children:" 18.00"}),Object(F.jsxs)("div",{className:R.a.weather,children:[Object(F.jsx)("div",{className:R.a.degrees,children:t.degrees18}),Object(F.jsx)("div",{className:R.a.icon,children:Object(F.jsx)("img",{src:t.icon18})})]}),Object(F.jsx)("div",{className:R.a.descr,children:L(t.description18)})]})]})]})]})};V.a.locale("ru");var U=function(e){var t=e.city,a=V()().add(1,"day").format("DD MMMM"),r=V()().add(2,"day").format("DD MMMM"),n=V()().add(3,"day").format("DD MMMM"),s=V()().add(4,"day").format("DD MMMM"),i=V()().add(5,"day").format("DD MMMM"),d=L(V()().add(2,"day").format("dddd")),o=L(V()().add(3,"day").format("dddd")),l=L(V()().add(4,"day").format("dddd")),j=L(V()().add(5,"day").format("dddd"));function b(e){return g(t?t.list[e].weather[0].main:"")}function h(e){if(!t)return"err";var a=Math.round(t.list[e].main.temp);return a>0?"+"+a+"\xb0C":a.toString()+"\xb0C"}function m(e){return t?t.list[e].weather[0].description:""}var p=Object(c.useState)(!1),y=Object(u.a)(p,2),v=y[0],x=y[1],O=Object(c.useState)({name:"",dayWeek:"",day:"",degrees12:"",icon12:"",description12:"",degrees15:"",icon15:"",description15:"",degrees18:"",icon18:"",description18:""}),f=Object(u.a)(O,2),_=f[0],C=f[1],w=function(e){C(e),x(!0)};t&&t.city.name;return Object(F.jsxs)("div",{className:H.a.days,children:[Object(F.jsx)(G.a,{open:v,onClose:function(){x(!1)},children:Object(F.jsx)(k.a,{sx:Object(A.a)({},{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"auto",bgcolor:"background.paper",borderRadius:"2rem",boxShadow:24,outline:"none",maxHeight:"89vh",overflow:"auto",pt:2,px:4,pb:3}),children:Object(F.jsx)(Q,{data:_})})}),Object(F.jsx)(Z,{dayWeek:"\u0417\u0430\u0432\u0442\u0440\u0430",day:a,degrees:h(0),icon:b(0),onClick:function(){return w({name:e.city.value,dayWeek:"\u0417\u0430\u0432\u0442\u0440\u0430",day:a,degrees12:h(0),icon12:b(0),description12:m(0),degrees15:h(1),icon15:b(1),description15:m(1),degrees18:h(2),icon18:b(2),description18:m(2)})}}),Object(F.jsx)(Z,{dayWeek:d,day:r,degrees:h(8),icon:b(8),onClick:function(){return w({name:e.city.value,dayWeek:d,day:r,degrees12:h(8),icon12:b(8),description12:m(8),degrees15:h(9),icon15:b(9),description15:m(9),degrees18:h(10),icon18:b(10),description18:m(10)})}}),Object(F.jsx)(Z,{dayWeek:o,day:n,degrees:h(16),icon:b(16),onClick:function(){return w({name:e.city.value,dayWeek:o,day:n,degrees12:h(16),icon12:b(16),description12:m(16),degrees15:h(17),icon15:b(17),description15:m(17),degrees18:h(18),icon18:b(18),description18:m(18)})}}),Object(F.jsx)(Z,{dayWeek:l,day:s,degrees:h(24),icon:b(24),onClick:function(){return w({name:e.city.value,dayWeek:l,day:s,degrees12:h(24),icon12:b(24),description12:m(24),degrees15:h(25),icon15:b(25),description15:m(25),degrees18:h(26),icon18:b(26),description18:m(26)})}}),Object(F.jsx)(Z,{dayWeek:j,day:i,degrees:h(32),icon:b(32),onClick:function(){return w({name:e.city.value,dayWeek:j,day:i,degrees12:h(32),icon12:b(32),description12:m(32),degrees15:h(33),icon15:b(33),description15:m(33),degrees18:h(34),icon18:b(34),description18:m(34)})}})]})},Y=a(168);var $=function(){var e=Object(c.useState)([{name:"\u041c\u043e\u0441\u043a\u0432\u0430",value:"Moscow"},{name:"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433",value:"Saint Petersburg"}]),t=Object(u.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(null),s=Object(u.a)(n,2),i=s[0],j=s[1];return Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition(function(){var e=Object(l.a)(d.a.mark((function e(t){var c,n,s,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=t.coords.latitude,n=t.coords.longitude,s="https://api.openweathermap.org/data/2.5/forecast?lat=".concat(c,"&lon=").concat(n,"&appid=").concat("a63740baaa8c5f06d8ce4273818d9d10","&units=metric&lang=ru"),e.next=6,fetch(s);case 6:if((i=e.sent).ok){e.next=10;break}return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP: "+i.status),e.abrupt("return");case 10:return e.next=12,i.json();case 12:l=e.sent,j(l),r([{name:l.city.name,value:l.city.name}].concat(Object(o.a)(a))),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(F.jsx)(Y.a,{maxWidth:"sm",children:Object(F.jsx)("div",{className:"app-wrapper",children:i&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(z,{setCity:j,city:i,listCity:a,setListCity:r}),Object(F.jsx)(U,{city:i,setCity:j,listCity:a,setListCity:r})]})})})},ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,170)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),c(e),r(e),n(e),s(e)}))};s.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)($,{})}),document.getElementById("root")),ee()},15:function(e,t,a){e.exports={city:"WeatherDetals_city__3ei7V",dayWeek:"WeatherDetals_dayWeek__1_Bhk",blockWrap:"WeatherDetals_blockWrap__3uBMM",block:"WeatherDetals_block__25T_v",weather:"WeatherDetals_weather__Bfax_",time:"WeatherDetals_time__2QmEB",day:"WeatherDetals_day__1bKYu",degrees:"WeatherDetals_degrees__2g3VV",descr:"WeatherDetals_descr__2TGKZ",wrap:"WeatherDetals_wrap__39PTy"}},31:function(e,t,a){e.exports={citySticky:"City_citySticky__25tpE",descrWrap:"City_descrWrap__1G2P3",img:"City_img__2rhNu",morning:"City_morning__3AiyK",evening:"City_evening__1qPXO",home:"City_home__r77ML",degrees:"City_degrees__2cV_o",descripWeather:"City_descripWeather__2NIH6"}},39:function(e,t,a){e.exports={dayWrap:"WeatherBlock_dayWrap__w1qgm",degrees:"WeatherBlock_degrees__3EItX",day:"WeatherBlock_day__3cOZk",date:"WeatherBlock_date__3XX0r"}},66:function(e,t,a){e.exports={text1:"Search_text1__2AA7v",icon:"Search_icon__3Budj"}},81:function(e,t,a){e.exports={days:"Days_days__3_9jP"}},98:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.dbeda428.chunk.js.map